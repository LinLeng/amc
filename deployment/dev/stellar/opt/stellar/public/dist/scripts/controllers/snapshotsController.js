"use strict";angular.module("aerospike.stellar").controller("SnapshotCreateController",["$scope","$state","$stateParams","$modal","$modalInstance","flash","ClusterCommandsService",function($scope,$state,$stateParams,$modal,$modalInstance,flash,ClusterCommands){$scope.CloseModal=function(){$modalInstance.close()};new Date;$scope.snapshotLabel=$scope.cluster.label,$scope.createSnapshot=function(){ClusterCommands.backup({id:$stateParams.id,label:$scope.snapshotLabel}).$promise.then(function(){$modalInstance.close()},function(error){flash.to("error-detail").error=error.data})}}]).controller("SnapshotRestoreController",["$scope","$state","$stateParams","$modal","$modalInstance","flash","SnapshotsService","ClusterCommandsService",function($scope,$state,$stateParams,$modal,$modalInstance,flash,Snapshots,ClusterCommands){$scope.CloseModal=function(){$modalInstance.close()},$scope.purge=!1,$scope.selectedBackup=null,$scope.backups=$scope.allSnapshots,$scope.restoreSnapshot=function(snapshot){console.log(snapshot),ClusterCommands.restore({id:$stateParams.id,snapshot_id:snapshot.id}).$promise.then(function(){$modalInstance.close()},function(error){flash.to("error-detail").error=error.data})}}]);